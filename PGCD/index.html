<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>حساب القاسم الأكبر المشترك — محمد وليد</title>
  <style>
    body{
      font-family:'Cairo',sans-serif;
      background:linear-gradient(135deg,#0b132b,#1c2541,#3a506b);
      color:#fff;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      margin:0;
      padding:20px;
      flex-direction:column;
    }

    /* لإخفاء الأسهم في متصفحات WebKit مثل Chrome وEdge وOpera */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* لإخفائها في Firefox */
input[type=number] {
  -moz-appearance: textfield;
}

    .card{
      background:rgba(12,18,43,0.85);
      padding:30px;
      border-radius:18px;
      box-shadow:0 0 30px rgba(0,0,0,.4);
      width:100%;
      max-width:800px;
      text-align:center;
      transition:all .3s ease-in-out;
    }
    .card:hover{box-shadow:0 0 40px rgba(91,192,190,.4)}
    h1{color:#6fffe9;margin-bottom:10px;font-size:28px}
    p{color:#d1d1d1;line-height:1.8;font-size:17px;margin-bottom:10px}
    button{
      margin-top:25px;
      background:#5bc0be;
      border:none;
      padding:14px 28px;
      color:#000;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      font-size:17px;
      transition:all .2s;
    }
    button:hover{background:#6fffe9;transform:scale(1.05)}
    label{display:block;margin:15px 0 5px;font-size:16px}
    input{
      width:90%;
      padding:12px;
      border:none;
      border-radius:10px;
      background:#3a506b;
      color:#fff;
      font-size:17px;
      outline:none;
    }
    table{
      width:100%;
      margin-top:20px;
      border-collapse:collapse;
      font-size:15px;
    }
    th,td{
      border:1px solid rgba(255,255,255,.1);
      padding:10px;
      text-align:center;
    }
    th{background:#3a506b;color:#6fffe9}
    .result{margin-top:15px;font-size:19px;color:#6fffe9;font-weight:bold}
    .explain{
      margin-top:20px;
      font-size:16px;
      color:#d1d1d1;
      text-align:justify;
      line-height:1.9;
      background:rgba(255,255,255,0.05);
      padding:15px;
      border-radius:10px;
    }
  </style>
</head>
<body>
  <div class="card" id="welcome">
    <h1>⚙️ صنع باستخدام محمد وليد ⚙️</h1>
    <p>مرحبًا بك في موقع <strong>حساب القاسم الأكبر المشترك (PGCD)</strong>، أداة تعليمية تشرح خطوة بخطوة كيف نجد القاسم المشترك الأكبر بين عددين باستخدام <strong>خوارزمية القسمة الإقليدية</strong>.</p>
    <p>تعتمد هذه الطريقة على تكرار عملية القسمة بين عددين، بحيث نأخذ باقي القسمة في كل خطوة حتى نصل إلى الصفر. عندها يكون آخر مقسوم عليه هو القاسم الأكبر المشترك.</p>
    <p>تُستخدم هذه الخوارزمية في مجالات كثيرة مثل <strong>التشفير</strong> و<strong>تبسيط الكسور</strong> و<strong>الرياضيات العددية</strong>.</p>
    <button onclick="startApp()">ابدأ الآن 🚀</button>
  </div>

  <div class="card" id="calculator" style="display:none;">
    <h1>🧮 حاسبة القاسم الأكبر المشترك (PGCD)</h1>
    <label>العدد الأول:</label>
    <input type="number" id="num1">
    <label>العدد الثاني:</label>
    <input type="number" id="num2">
    <button onclick="calculateGCD()">احسب النتيجة</button>
    <div id="output" class="result"></div>
    <table id="stepsTable">
      <thead>
        <tr>
          <th>a</th>
          <th>b</th>
          <th>العملية (a = b × q + r)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div id="explain" class="explain"></div>
  </div>

  <script>
    function startApp(){
      document.getElementById('welcome').style.display='none';
      document.getElementById('calculator').style.display='block';
    }

    function calculateGCD() {
      const a = parseInt(document.getElementById('num1').value);
      const b = parseInt(document.getElementById('num2').value);
      const output = document.getElementById('output');
      const tbody = document.querySelector('#stepsTable tbody');
      const explain = document.getElementById('explain');
      tbody.innerHTML = '';
      explain.innerHTML = '';

      if (isNaN(a) || isNaN(b) || a <= 0 || b <= 0) {
        output.textContent = '⚠️ يرجى إدخال عددين صحيحين موجبَين.';
        return;
      }

      let x = a, y = b;
      const steps = [];

while (y !== 0) {
  const q = Math.floor(x / y);
  const r = x % y;
  const result = `${r} + ${q} × ${y} = ${x}`;

  const row = document.createElement('tr');
  // ثلاث أعمدة: x ، y ، النتيجة
  row.innerHTML = `<td>${x}</td><td>${y}</td><td>${result}</td>`;
  tbody.appendChild(row);

  steps.push(result);

  x = y;
  y = r;
}


      output.textContent = `✅ القاسم الأكبر المشترك (PGCD) بين ${a} و ${b} هو ${x}`;

      explain.innerHTML = `
        <strong>شرح العملية:</strong><br>
        في كل خطوة نقسم العدد الأكبر على الأصغر، ونكتب الناتج على شكل <code>a = b × q + r</code>، حيث:<br>
        <ul>
          <li><strong>a</strong>: العدد الأكبر في الخطوة.</li>
          <li><strong>b</strong>: العدد الأصغر.</li>
          <li><strong>q</strong>: خارج القسمة.</li>
          <li><strong>r</strong>: الباقي.</li>
        </ul>
        نكرر العملية باستخدام <strong>b</strong> و<strong>r</strong> كقيم جديدة حتى يصبح <strong>r = 0</strong>، وعندها يكون <strong>b الأخير</strong> هو القاسم الأكبر المشترك.<br>
        <br>بهذا تكون قد فهمت طريقة القسمة الإقليدية عمليًا وخطوة بخطوة 🔍.
      `;
    }
  </script>
</body>
</html>
